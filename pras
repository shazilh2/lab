sudo usermod -aG sudo jenkins
sudo visudo
# add below line in sudo section
jenkins ALL=(ALL) NOPASSWD:ALL       

sudo systemctl restart jenkins

sudo chmod -R 777 /var/run/docker.sock    
sudo usermod -aG docker jenkins
sudo systemctl restart jenkins
sudo usermod -aG docker $USER
newgrp docker
sudo -u jenkins docker login -u sheetalsshetty
<Paste Personal access token>

# In Jenkins -> Settings -> System
Docker URL = unix:///var/run/docker.sock

sudo nano /lib/systemd/system/docker.service

# Comment existing ExecStart line and add below line
ExecStart=/usr/bin/dockerd -H unix:///var/run/docker.sock -H tcp://0.0.0.0:2375    

sudo systemctl daemon-reload
sudo systemctl daemon-reexec
sudo systemctl restart docker



sudo chown -R jenkins:jenkins /var/www/html
sudo chmod -R 0755 /var/www/html

sudo visudo -f /etc/sudoers.d/jenkins_apache
jenkins ALL=(root) NOPASSWD: /bin/systemctl restart apache2
jenkins ALL=(ALL) NOPASSWD: /usr/bin/apt-get, /usr/bin/git, /bin/rm, /bin/cp, /bin/systemctl
